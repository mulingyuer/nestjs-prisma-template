import{_ as s,c as i,o as a,a5 as n}from"./chunks/framework.ntVCDD8b.js";const g=JSON.parse('{"title":"快速开始","description":"","frontmatter":{},"headers":[],"relativePath":"introduction/started.md","filePath":"introduction/started.md"}'),e={name:"introduction/started.md"},l=n(`<h1 id="快速开始" tabindex="-1">快速开始 <a class="header-anchor" href="#快速开始" aria-label="Permalink to &quot;快速开始&quot;">​</a></h1><p>由于暂时还没去研究怎么通过 cli 命令来实现模板创建项目，所以目前就是手动拉去 github 上的项目，使用主力分支<code>main</code>来使用。</p><p><strong>github 地址：</strong> <a href="https://github.com/mulingyuer/nestjs-prisma-template" target="_blank" rel="noreferrer">nestjs-prisma-template</a></p><p>拉取成功切换到<code>main</code>分支。</p><h2 id="安装依赖" tabindex="-1">安装依赖 <a class="header-anchor" href="#安装依赖" aria-label="Permalink to &quot;安装依赖&quot;">​</a></h2><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes one-dark-pro one-light vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#61AFEF;--shiki-light:#4078F2;">pnpm</span><span style="--shiki-dark:#98C379;--shiki-light:#50A14F;"> install</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="配置环境变量" tabindex="-1">配置环境变量 <a class="header-anchor" href="#配置环境变量" aria-label="Permalink to &quot;配置环境变量&quot;">​</a></h2><p>找到<code>.env.example</code>环境变量文件，复制一份改名为<code>.env.development</code>，内容调整为自己需要的环境配置，如：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes one-dark-pro one-light vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#7F848E;--shiki-light:#A0A1A7;--shiki-dark-font-style:italic;--shiki-light-font-style:italic;"># 模式</span></span>
<span class="line"><span style="--shiki-dark:#E06C75;--shiki-light:#E45649;">NODE_ENV</span><span style="--shiki-dark:#56B6C2;--shiki-light:#383A42;">=</span><span style="--shiki-dark:#98C379;--shiki-light:#50A14F;">&quot;development&quot;</span></span>
<span class="line"><span style="--shiki-dark:#7F848E;--shiki-light:#A0A1A7;--shiki-dark-font-style:italic;--shiki-light-font-style:italic;"># prisma</span></span>
<span class="line"><span style="--shiki-dark:#E06C75;--shiki-light:#E45649;">DATABASE_URL</span><span style="--shiki-dark:#56B6C2;--shiki-light:#383A42;">=</span><span style="--shiki-dark:#98C379;--shiki-light:#50A14F;">&quot;mysql://root:@localhost:3306/nestjs-prisma-template&quot;</span></span>
<span class="line"><span style="--shiki-dark:#7F848E;--shiki-light:#A0A1A7;--shiki-dark-font-style:italic;--shiki-light-font-style:italic;"># 后端域名</span></span>
<span class="line"><span style="--shiki-dark:#E06C75;--shiki-light:#E45649;">BACKEND_DOMAIN</span><span style="--shiki-dark:#56B6C2;--shiki-light:#383A42;">=</span><span style="--shiki-dark:#98C379;--shiki-light:#50A14F;">&quot;http://localhost:3000&quot;</span></span>
<span class="line"><span style="--shiki-dark:#7F848E;--shiki-light:#A0A1A7;--shiki-dark-font-style:italic;--shiki-light-font-style:italic;"># 端口</span></span>
<span class="line"><span style="--shiki-dark:#E06C75;--shiki-light:#E45649;">PORT</span><span style="--shiki-dark:#56B6C2;--shiki-light:#383A42;">=</span><span style="--shiki-dark:#98C379;--shiki-light:#50A14F;">3000</span></span>
<span class="line"><span style="--shiki-dark:#7F848E;--shiki-light:#A0A1A7;--shiki-dark-font-style:italic;--shiki-light-font-style:italic;"># 全局前缀</span></span>
<span class="line"><span style="--shiki-dark:#E06C75;--shiki-light:#E45649;">GLOBAL_PREFIX</span><span style="--shiki-dark:#56B6C2;--shiki-light:#383A42;">=</span><span style="--shiki-dark:#98C379;--shiki-light:#50A14F;">&quot;/api&quot;</span></span>
<span class="line"><span style="--shiki-dark:#7F848E;--shiki-light:#A0A1A7;--shiki-dark-font-style:italic;--shiki-light-font-style:italic;"># 是否启用跨域</span></span>
<span class="line"><span style="--shiki-dark:#E06C75;--shiki-light:#E45649;">CORS_ENABLED</span><span style="--shiki-dark:#56B6C2;--shiki-light:#383A42;">=</span><span style="--shiki-dark:#98C379;--shiki-light:#50A14F;">true</span></span>
<span class="line"><span style="--shiki-dark:#7F848E;--shiki-light:#A0A1A7;--shiki-dark-font-style:italic;--shiki-light-font-style:italic;"># JWT secret</span></span>
<span class="line"><span style="--shiki-dark:#E06C75;--shiki-light:#E45649;">JWT_SECRET</span><span style="--shiki-dark:#56B6C2;--shiki-light:#383A42;">=</span><span style="--shiki-dark:#98C379;--shiki-light:#50A14F;">&quot;71u04R1N5XWYn9&quot;</span></span>
<span class="line"><span style="--shiki-dark:#7F848E;--shiki-light:#A0A1A7;--shiki-dark-font-style:italic;--shiki-light-font-style:italic;"># JWT expiresIn</span></span>
<span class="line"><span style="--shiki-dark:#E06C75;--shiki-light:#E45649;">JWT_EXPIRES_IN</span><span style="--shiki-dark:#56B6C2;--shiki-light:#383A42;">=</span><span style="--shiki-dark:#98C379;--shiki-light:#50A14F;">&quot;7d&quot;</span></span>
<span class="line"><span style="--shiki-dark:#7F848E;--shiki-light:#A0A1A7;--shiki-dark-font-style:italic;--shiki-light-font-style:italic;"># 是否启用swagger</span></span>
<span class="line"><span style="--shiki-dark:#E06C75;--shiki-light:#E45649;">SWAGGER_ENABLED</span><span style="--shiki-dark:#56B6C2;--shiki-light:#383A42;">=</span><span style="--shiki-dark:#98C379;--shiki-light:#50A14F;">true</span></span>
<span class="line"><span style="--shiki-dark:#7F848E;--shiki-light:#A0A1A7;--shiki-dark-font-style:italic;--shiki-light-font-style:italic;"># swagger 标题</span></span>
<span class="line"><span style="--shiki-dark:#E06C75;--shiki-light:#E45649;">SWAGGER_TITLE</span><span style="--shiki-dark:#56B6C2;--shiki-light:#383A42;">=</span><span style="--shiki-dark:#98C379;--shiki-light:#50A14F;">&quot;Swagger API&quot;</span></span>
<span class="line"><span style="--shiki-dark:#7F848E;--shiki-light:#A0A1A7;--shiki-dark-font-style:italic;--shiki-light-font-style:italic;"># swagger 描述</span></span>
<span class="line"><span style="--shiki-dark:#E06C75;--shiki-light:#E45649;">SWAGGER_DESCRIPTION</span><span style="--shiki-dark:#56B6C2;--shiki-light:#383A42;">=</span><span style="--shiki-dark:#98C379;--shiki-light:#50A14F;">&quot;Swagger API文档&quot;</span></span>
<span class="line"><span style="--shiki-dark:#7F848E;--shiki-light:#A0A1A7;--shiki-dark-font-style:italic;--shiki-light-font-style:italic;"># 文件上传路径</span></span>
<span class="line"><span style="--shiki-dark:#E06C75;--shiki-light:#E45649;">UPLOAD_DIR</span><span style="--shiki-dark:#56B6C2;--shiki-light:#383A42;">=</span><span style="--shiki-dark:#98C379;--shiki-light:#50A14F;">&quot;/uploads&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>如果需要打包处理，需要创建生产环境变量：<code>.env.production</code>，操作都是一样的，只是把<code>NODE_ENV</code>改为<code>production</code>，其他配置自己根据需要调整。</p><h2 id="数据库迁移" tabindex="-1">数据库迁移 <a class="header-anchor" href="#数据库迁移" aria-label="Permalink to &quot;数据库迁移&quot;">​</a></h2><p>首次运行项目需要先进行数据库迁移，执行以下命令：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes one-dark-pro one-light vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#61AFEF;--shiki-light:#4078F2;">pnpm</span><span style="--shiki-dark:#98C379;--shiki-light:#50A14F;"> prisma:migrate</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>等待迁移完成，迁移过程会运行数据填充脚本，会生成一个测试用户，更多信息可以查看<code>prisma/seed/index.ts</code>文件。</p><h2 id="启动项目" tabindex="-1">启动项目 <a class="header-anchor" href="#启动项目" aria-label="Permalink to &quot;启动项目&quot;">​</a></h2><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes one-dark-pro one-light vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#61AFEF;--shiki-light:#4078F2;">pnpm</span><span style="--shiki-dark:#98C379;--shiki-light:#50A14F;"> start:dev</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">注意：</p><p><code>start:dev</code>命令通过<code>chcp 65001</code>解决了 pino 在 widows 下中文乱码的问题，方便调试。</p></div><h2 id="测试项目" tabindex="-1">测试项目 <a class="header-anchor" href="#测试项目" aria-label="Permalink to &quot;测试项目&quot;">​</a></h2><p>浏览器访问:<code>http://localhost:3000/api</code>可以看到返回的结果：</p><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes one-dark-pro one-light vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">{</span></span>
<span class="line"><span style="--shiki-dark:#E06C75;--shiki-light:#E45649;"> &quot;data&quot;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">: </span><span style="--shiki-dark:#98C379;--shiki-light:#50A14F;">&quot;Hello World!&quot;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">,</span></span>
<span class="line"><span style="--shiki-dark:#E06C75;--shiki-light:#E45649;"> &quot;message&quot;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">: </span><span style="--shiki-dark:#98C379;--shiki-light:#50A14F;">&quot;成功&quot;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">,</span></span>
<span class="line"><span style="--shiki-dark:#E06C75;--shiki-light:#E45649;"> &quot;code&quot;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">: </span><span style="--shiki-dark:#D19A66;--shiki-light:#986801;">200</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>恭喜你，项目启动成功！</p>`,21),t=[l];function p(h,r,k,d,o,c){return a(),i("div",null,t)}const b=s(e,[["render",p]]);export{g as __pageData,b as default};
